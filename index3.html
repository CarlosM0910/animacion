<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style3.css">
</head>

<body>
  <div id="container">
    <img src="https://golty.com.co/wp-content/uploads/2021/04/balon-futbolsala-pro-golty-ultrasoft-1.webp" width="200" height="200"  id="boat">
  </div>
  
  <div id="controls">
    <button onclick="startAnimation()">Iniciar</button>
    <button onclick="stopAnimation()">Detener</button>
    <button onclick="resetAnimation()">Reiniciar</button>
  </div>

  <script>
    let animationId;
    let times = 1;
    let isAnimating = false;

    function startAnimation() {
      if (isAnimating) return;
      
      isAnimating = true;
      go();
    }

    function stopAnimation() {
      isAnimating = false;
      boat.style.transition = 'none';
    }

    function resetAnimation() {
      stopAnimation();
      times = 1;
      boat.classList.remove('back');
      boat.style.marginLeft = '0px';
    }

    function go() {
      if (!isAnimating) return;
      
      boat.style.transition = 'margin-left 3s ease-in-out';
      
      if (times % 2) {
        boat.classList.remove('back');
        boat.style.marginLeft = 100 * times + 200 + 'px';
      } else {
        boat.classList.add('back');
        boat.style.marginLeft = 100 * times - 200 + 'px';
      }
    }

    boat.addEventListener('transitionend', function() {
      if (isAnimating) {
        times++;
        go();
      }
    });
  </script>

</body>

</html>
